<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SonoMap</title>

	<link rel="stylesheet" type="text/css" href="build/potree/potree.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<script src="https://aframe.io/releases/0.5.0/aframe.js"></script>
	<script src="libs/other/aframe-look-at-component.js"></script>
	<!-- MODIFIED VERSION WITH TOCK() METHOD FOR POST_PROCESSING EFFECTS: 
		<script src="libs/aframe/aframe.js"></script>
	-->
  </head>

  <body>

	<!-- Shaders: -->
	<script src="app/shaders/classicnoise3D.js"></script>
	<script src="app/shaders/vShaders/soundSphereVS.js"></script>
	<script src="app/shaders/vShaders/soundWaveVS.js"></script>
	<script src="app/shaders/fShaders/soundSphereFS.js"></script>
	
	<!--<script src="libs/other/webgl-debug.js"></script>-->

	<!-- Potree dependencies -->
	<script src="libs/other/BinaryHeap.js"></script>
	<script src="libs/proj4/proj4.js"></script>
	
	<script src="libs/potree/potree.js"></script>

	<!-- Potree customization -->
	<script src="./app/potreeExtensions/customSceneAddon.js"></script>
	<script src="./app/potreeExtensions/customViewerAddon.js"></script>
	<script src="./app/potreeExtensions/customRendererAddon.js"></script>
	<script src="./app/potreeExtensions/vertexShaderAddon.js"></script>
	<script src="./app/potreeExtensions/fragmentShaderAddon.js"></script>

	<!-- Aframe Components -->
	<script src="./app/aframeComponents/audioCreator.js"></script>
	<script src="./app/aframeComponents/webAudioSound.js"></script>
	<script src="./app/aframeComponents/potreePointCloud.js"></script>
	<script src="./app/aframeComponents/soundSphere.js"></script>
	<script src="./app/aframeComponents/noisePartSys.js"></script>
	<script src="./app/aframeComponents/triangularAnimation.js"></script>
	<script src="./app/aframeComponents/pathGenerator.js"></script>
	<script src="./app/aframeComponents/soundWave.js"></script>
	<script src="./app/aframeComponents/arrow.js"></script>
	<script src="./app/aframeComponents/xboxController.js"></script>
	<script src="./app/aframeComponents/xboxLookControls.js"></script>
	<script src="./app/aframeComponents/upDownControls.js"></script>
	<script src="./app/aframeComponents/tag.js"></script>

	<script src="./app/config.js"></script>
	<script src="./app/tileHeights.js"></script>

	<!-- Volume Changer dependencies -->
	<script src="https://d3js.org/d3.v4.min.js"></script>

	<!-- Potree dependencies -->
	<script src="libs/plasio/js/laslaz.js"></script>
	<script src="libs/plasio/vendor/bluebird.js"></script>

	<script>
	
		/*window.viewer = new Potree.Viewer(document.getElementById("potree_render_area"));
		
		viewer.setEDLEnabled(true);
		viewer.setPointSize(1);
		viewer.setMaterial("RGB");
		viewer.setFOV(60);
		viewer.setPointSizing("Adaptive");
		viewer.setQuality("Squares");
		viewer.setPointBudget(1*1000*1000);
		viewer.setIntensityRange(0, 300);
		viewer.setWeightClassification(1);
		viewer.loadSettingsFromURL();
		
		viewer.setDescription("");
		
		viewer.loadGUI(() => {
			viewer.setLanguage('en');
			$("#menu_appearance").next().show();
			//viewer.toggleSidebar();
		});*/
		
		// Sigeom
		/*Potree.loadPointCloud("pointclouds/lion_takanawa/cloud.js", "lion", function(e){
			viewer.scene.addPointCloud(e.pointcloud);
			
			viewer.fitToScreen();
		});*/
		
	</script>

	<a-scene>

		<a-assets>
			<audio id="testaudio" src="./resources/music/street.mp3" preload="auto"></audio>
			<audio id="testaudio1" src="./resources/music/trafficjam.mp3" preload="auto"></audio>
			<audio id="testaudio2" src="./resources/music/urban.mp3" preload="auto"></audio>
			<audio id="testaudio3" src="./resources/music/train.mp3" preload="auto"></audio>
			<audio id="testaudio4" src="./resources/music/drilling.mp3" preload="auto"></audio>
			<audio id="testaudio5" src="./resources/music/bus.mp3" preload="auto"></audio>
			<audio id="testaudio6" src="./resources/music/english.ogg" preload="auto"></audio>
			<audio id="testaudio7" src="./resources/music/spanish.ogg" preload="auto"></audio>
			<audio id="testaudio8" src="./resources/music/french.ogg" preload="auto"></audio>
		</a-assets>

		<a-entity id="path-generator" pathgenerator="pathJsonUrl: data/paths.json;" position="0 0 0"></a-entity>
		<!--<a-entity noisepartsys="initX: 430799.27;initZ: 4582250.27;endX: 431425.65;endZ: 4582556.36;" position="10.165 -3.235 -12.426"></a-entity>
		--><!--<a-entity noisepartsys="initX: 428300.91;initZ: 4582642.75;endX: 426215.70;endZ: 4581991.18;" position="10.165 -3.235 -12.426"></a-entity>
		-->
		<!--<a-entity particlesystem position="9.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="19.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="12.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="21.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="14.165 -3.835 -12.426"></a-entity>
		<a-entity particlesystem position="23.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="16.165 -2.835 -12.426"></a-entity>
		<a-entity particlesystem position="25.165 -2.835 -12.426"></a-entity>-->

		<a-entity class="pointcloudContainer" potreepointcloud="pointcloudUrl: pointclouds/test00/cloud.js;tileC: 0;tileR: 0"> </a-entity>
		<!--<a-box position="0 0 0" rotation="0 45 0" color="#4CC3D9"></a-box>
		<a-entity soundsphere position="9.165 -2.835 -12.426"></a-entity>

		<a-entity particlesystem="textureSrc: resources/textures/beep.png" position="10.406 -2.835 -27.931"></a-entity>
		<a-entity soundwave position="10.406 -2.2 -27.931" rotation="90 0 0"></a-entity>
		<a-entity arrow="initScale: 2 2 4" position="20.406 3 -27.931" rotation="0 0 90"></a-entity>-->
		<!--<a-entity id="tile00" class="tile" potreepointcloud="pointcloudUrl: pointclouds/test00/cloud.js;tileC: 0;tileR: 0"> </a-entity>
		--><!--<a-entity potreepointcloud="pointcloudUrl: pointclouds/test01/cloud.js;tileC: 1;tileR: 0"> </a-entity>
		<a-entity potreepointcloud="pointcloudUrl: pointclouds/test02/cloud.js;tileC: 2;tileR: 0"> </a-entity>
		<a-entity potreepointcloud="pointcloudUrl: pointclouds/test03/cloud.js;tileC: 3;tileR: 0"> </a-entity>
		-->
<!--
		<a-entity obj-model="obj: #wave-obj" material="color: yellow" position="23.558 -2.051 -15.282" rotation="90.000 0 0" scale="0.04 0.04 0.04"></a-entity>
		<a-entity obj-model="obj: #piramide-obj" material="color: purple" position="30.558 -1.051 -15.282" rotation="90.000 0 0" scale="0.04 0.04 0.04"></a-entity>
		-->
		<!--<a-sound src="#engaud" autoplay="true" loop="true"
    		position="0 0 0"></a-sound>
		<a-sound src="#spaaud" autoplay="true" loop="true"
    		position="0 0 -10"></a-sound>
		<a-sound src="#frenchaud" autoplay="true" loop="true"
    		position="10 0 0"></a-sound>
		<a-sound src="#engaud" autoplay="true" loop="true"
    		position="10 0 -10"></a-sound>

		<a-box position="0 0 0" color="white"></a-box>
		<a-box position="0 0 -10" color="red"></a-box>
		<a-box position="10 0 0" color="blue"></a-box>
		<a-box position="10 0 -10" color="white"></a-box>

		-->

		<!--<a-entity audiocreator/>-->

		<!-- Without this default light, aframe is creating default lights automatically. Â¿Bug?
		It keeps happening. -->
		<a-entity light="type: ambient; color: #BBB"></a-entity>

		<a-sky color="#ffffff"></a-sky>
		<!--
			<a-entity webaudiosound="src: nothing; loop:true; autoplay:true" position="120.000 0 -40.010"></a-entity>
		-->
		<a-entity id="user-sound" rotation="0 46 0">
			<!--<a-box id="east" position="1 0 0"  color="red" scale="0.1 0.1 0.1"></a-box>
			<a-box id="west" position="-1 0 0"  color="green" scale="0.1 0.1 0.1"></a-box>
			<a-box id="up" position="0 1 0" color="blue" scale="0.1 0.1 0.1"></a-box>
			<!--<a-box id="down" position="0 -1 0"  color="blue" scale="0.1 0.1 0.1"></a-box>-->
			<!--<a-box id="south" position="0 0 1"  color="black" scale="0.1 0.1 0.1"></a-box>
			<a-box id="north" position="0 0 -1"  color="yellow" scale="0.1 0.1 0.1"></a-box>-->
			<!--<a-entity id="southsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="0 0 1"></a-entity>
			--><a-entity id="northsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="0 0 -1"></a-entity>
			<a-entity id="eastsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="1 0 0"></a-entity>
			<a-entity id="westsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="-1 0 0"></a-entity>
			<!--<a-entity id="upsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="0 1 0"></a-entity>
			<a-entity id="downsound" class="webaudiosound" webaudiosound="loop:true; autoplay:true" position="0 -1 0"></a-entity>
		--></a-entity>
		
		<a-camera id="app-camera" rotation="0 0 0" position="45 0 -45" xbox-controller xbox-look-controls updown-controls wasd-controls="acceleration: 50">
		</a-camera>
	</a-scene>

	<img class="logos" src="./resources/imgs/logos.svg"></img>

	<script src="./app/volumeChanger.js"></script>
	<script src="./app/main.js"></script>

  </body>
</html>
